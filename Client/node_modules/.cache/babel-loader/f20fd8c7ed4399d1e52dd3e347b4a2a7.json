{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/VISHAL/OneDrive/Desktop/QuizApp/Client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/VISHAL/OneDrive/Desktop/QuizApp/Client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"C:/Users/VISHAL/OneDrive/Desktop/QuizApp/Client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/VISHAL/OneDrive/Desktop/QuizApp/Client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{useDispatch}from\"react-redux\";import{getServerData}from\"../helper/helper\";/** redux actions */import*as Action from'../redux/question_reducer';/** fetch question hook to fetch api data and set value to store */export var useFetchQestion=function useFetchQestion(){var dispatch=useDispatch();var _useState=useState({isLoading:false,apiData:[],serverError:null}),_useState2=_slicedToArray(_useState,2),getData=_useState2[0],setGetData=_useState2[1];useEffect(function(){setGetData(function(prev){return _objectSpread(_objectSpread({},prev),{},{isLoading:true});});/** async function fetch backend data */_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$getServerData,_yield$getServerData2,_yield$getServerData3,questions,answers;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getServerData(\"\".concat(process.env.REACT_APP_SERVER_HOSTNAME,\"/api/questions\"),function(data){return data;});case 3:_yield$getServerData=_context.sent;_yield$getServerData2=_slicedToArray(_yield$getServerData,1);_yield$getServerData3=_yield$getServerData2[0];questions=_yield$getServerData3.questions;answers=_yield$getServerData3.answers;if(!(questions.length>0)){_context.next=14;break;}setGetData(function(prev){return _objectSpread(_objectSpread({},prev),{},{isLoading:false});});setGetData(function(prev){return _objectSpread(_objectSpread({},prev),{},{apiData:questions});});/** dispatch an action */dispatch(Action.startExamAction({question:questions,answers:answers}));_context.next=15;break;case 14:throw new Error(\"No Question Avalibale\");case 15:_context.next=21;break;case 17:_context.prev=17;_context.t0=_context[\"catch\"](0);setGetData(function(prev){return _objectSpread(_objectSpread({},prev),{},{isLoading:false});});setGetData(function(prev){return _objectSpread(_objectSpread({},prev),{},{serverError:_context.t0});});case 21:case\"end\":return _context.stop();}}},_callee,null,[[0,17]]);}))();},[dispatch]);return[getData,setGetData];};/** MoveAction Dispatch function */export var MoveNextQuestion=function MoveNextQuestion(){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:try{dispatch(Action.moveNextAction());/** increase trace by 1 */}catch(error){console.log(error);}case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref2.apply(this,arguments);};}();};/** PrevAction Dispatch function */export var MovePrevQuestion=function MovePrevQuestion(){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dispatch){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:try{dispatch(Action.movePrevAction());/** decrease trace by 1 */}catch(error){console.log(error);}case 1:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x2){return _ref3.apply(this,arguments);};}();};","map":{"version":3,"names":["useEffect","useState","useDispatch","getServerData","Action","useFetchQestion","dispatch","isLoading","apiData","serverError","getData","setGetData","prev","process","env","REACT_APP_SERVER_HOSTNAME","data","questions","answers","length","startExamAction","question","Error","MoveNextQuestion","moveNextAction","error","console","log","MovePrevQuestion","movePrevAction"],"sources":["C:/Users/VISHAL/OneDrive/Desktop/QuizApp/Client/src/hooks/FetchQuestion.js"],"sourcesContent":["import { useEffect, useState } from \"react\"\nimport { useDispatch } from \"react-redux\";\nimport { getServerData } from \"../helper/helper\";\n\n/** redux actions */\nimport * as Action from '../redux/question_reducer'\n\n/** fetch question hook to fetch api data and set value to store */\nexport const useFetchQestion = () => {\n    const dispatch = useDispatch();   \n    const [getData, setGetData] = useState({ isLoading : false, apiData : [], serverError: null});\n\n    useEffect(() => {\n        setGetData(prev => ({...prev, isLoading : true}));\n\n        /** async function fetch backend data */\n        (async () => {  \n            try { \n                const [{ questions, answers }] = await getServerData(`${process.env.REACT_APP_SERVER_HOSTNAME}/api/questions`, (data) => data)\n                \n                if(questions.length > 0){\n                    setGetData(prev => ({...prev, isLoading : false}));\n                    setGetData(prev => ({...prev, apiData : questions}));\n\n                    /** dispatch an action */\n                    dispatch(Action.startExamAction({ question : questions, answers }))\n\n                } else{\n                    throw new Error(\"No Question Avalibale\");\n                }\n            } catch (error) {\n                setGetData(prev => ({...prev, isLoading : false}));\n                setGetData(prev => ({...prev, serverError : error}));\n            }\n        })();\n    }, [dispatch]);\n\n    return [getData, setGetData];\n}\n\n\n/** MoveAction Dispatch function */\nexport const MoveNextQuestion = () => async (dispatch) => {\n    try {\n        dispatch(Action.moveNextAction()); /** increase trace by 1 */\n    } catch (error) {\n        console.log(error)\n    }\n}\n\n/** PrevAction Dispatch function */\nexport const MovePrevQuestion = () => async (dispatch) => {\n    try {\n        dispatch(Action.movePrevAction()); /** decrease trace by 1 */\n    } catch (error) {\n        console.log(error)\n    }\n}"],"mappings":"miBAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,aAAa,KAAQ,kBAAkB,CAEhD,oBACA,MAAO,GAAKC,OAAM,KAAM,2BAA2B,CAEnD,mEACA,MAAO,IAAMC,gBAAe,CAAG,QAAlBA,gBAAe,EAAS,CACjC,GAAMC,SAAQ,CAAGJ,WAAW,EAAE,CAC9B,cAA8BD,QAAQ,CAAC,CAAEM,SAAS,CAAG,KAAK,CAAEC,OAAO,CAAG,EAAE,CAAEC,WAAW,CAAE,IAAI,CAAC,CAAC,wCAAtFC,OAAO,eAAEC,UAAU,eAE1BX,SAAS,CAAC,UAAM,CACZW,UAAU,CAAC,SAAAC,IAAI,wCAASA,IAAI,MAAEL,SAAS,CAAG,IAAI,IAAE,CAAC,CAEjD,wCACA,0DAAC,kQAE8CJ,cAAa,WAAIU,OAAO,CAACC,GAAG,CAACC,yBAAyB,mBAAkB,SAACC,IAAI,QAAKA,KAAI,GAAC,uJAArHC,SAAS,uBAATA,SAAS,CAAEC,OAAO,uBAAPA,OAAO,MAExBD,SAAS,CAACE,MAAM,CAAG,CAAC,2BACnBR,UAAU,CAAC,SAAAC,IAAI,wCAASA,IAAI,MAAEL,SAAS,CAAG,KAAK,IAAE,CAAC,CAClDI,UAAU,CAAC,SAAAC,IAAI,wCAASA,IAAI,MAAEJ,OAAO,CAAGS,SAAS,IAAE,CAAC,CAEpD,yBACAX,QAAQ,CAACF,MAAM,CAACgB,eAAe,CAAC,CAAEC,QAAQ,CAAGJ,SAAS,CAAEC,OAAO,CAAPA,OAAQ,CAAC,CAAC,CAAC,qCAG7D,IAAII,MAAK,CAAC,uBAAuB,CAAC,0FAG5CX,UAAU,CAAC,SAAAC,IAAI,wCAASA,IAAI,MAAEL,SAAS,CAAG,KAAK,IAAE,CAAC,CAClDI,UAAU,CAAC,SAAAC,IAAI,wCAASA,IAAI,MAAEH,WAAW,YAAQ,IAAE,CAAC,CAAC,qEAE5D,IAAG,CACR,CAAC,CAAE,CAACH,QAAQ,CAAC,CAAC,CAEd,MAAO,CAACI,OAAO,CAAEC,UAAU,CAAC,CAChC,CAAC,CAGD,mCACA,MAAO,IAAMY,iBAAgB,CAAG,QAAnBA,iBAAgB,qGAAS,kBAAOjB,QAAQ,wHACjD,GAAI,CACAA,QAAQ,CAACF,MAAM,CAACoB,cAAc,EAAE,CAAC,CAAE,0BACvC,CAAE,MAAOC,KAAK,CAAE,CACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CACtB,CAAC,wDACJ,kEAED,mCACA,MAAO,IAAMG,iBAAgB,CAAG,QAAnBA,iBAAgB,qGAAS,kBAAOtB,QAAQ,wHACjD,GAAI,CACAA,QAAQ,CAACF,MAAM,CAACyB,cAAc,EAAE,CAAC,CAAE,0BACvC,CAAE,MAAOJ,KAAK,CAAE,CACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CACtB,CAAC,wDACJ"},"metadata":{},"sourceType":"module"}